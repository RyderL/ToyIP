# ToyIP
一个基于tun/tap设备编写的简易的tcp/ip协议栈.

这个协议栈只是为了更进一步学习网络编程的一个练习之作.大部分代码参考了[`level-ip`](https://github.com/saminiir/level-ip).

我仔细读完了level-ip的实现,发现实现一个协议栈其实不是很难,其中最困难的部分是tcp协议,毕竟它是一个状态机,要考虑的情况非常多.

但实际上,level-ip的实现还不够简洁,我希望在它的基础上实现一个更加简洁的协议栈.这个协议栈自然不是为了实用,只是为了学习而已.

实现这个东西虽然不是多难的事情,但是还是要花费掉大量的时间的,好处当然有,自打我读实现和写实现以来,我对网络的理解更近了一步,同时对于怎样配置网络,也变得非常熟悉了.更加重要的是,我对于某些网络知识的了解不再只是浮于表面,使用起linux的一大堆网络函数也更加得心应手.同时对于linux下编程也有了更深的体会.

究竟你有没有必要看一下网络栈的实现,或者自己亲手实现一把协议栈,因人而异吧,不过我个人推荐写网络程序的程序员最好还是了解一下底层的协议会比较好,不然一旦你写的程序出了问题,你甚至会不知道问题出在哪里.

写这个玩意进度不可能太快,慢慢熬吧.希望在5月底能够弄出一个初版,初版写完之后,我就着手写如何调试,配置以及各个协议的原理了,然后贴成博客.


最好的关于协议栈介绍的书籍还是网络之神的那几本大头书,`tcpip`卷详解`1`,卷二的话,可以读一下,然后是`unp`.边写协议栈边读这几本书,收获自然是最大的.


至于如何在你的机器上运行这里的代码,可以参照这里:
1. [http://blog.csdn.net/lishuhuakai/article/details/70305543](http://blog.csdn.net/lishuhuakai/article/details/70305543)
2. [http://blog.csdn.net/lishuhuakai/article/details/70498149](http://blog.csdn.net/lishuhuakai/article/details/70498149)

代码正在进一步完善之中.

已经完工的协议有arp和icmp, tcp基本上已经可以使用,udp协议还没有测试.现在正在完善对外的接口.